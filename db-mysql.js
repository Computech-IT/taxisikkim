const a0_0x2d98f0=a0_0xd3c2;(function(_0x329937,_0x433be6){const _0x2afec9=a0_0xd3c2,_0x2ce34f=_0x329937();while(!![]){try{const _0x53f4b5=-parseInt(_0x2afec9(0x208))/0x1+-parseInt(_0x2afec9(0x200))/0x2*(-parseInt(_0x2afec9(0x205))/0x3)+-parseInt(_0x2afec9(0x1e2))/0x4*(-parseInt(_0x2afec9(0x1f0))/0x5)+parseInt(_0x2afec9(0x20b))/0x6*(parseInt(_0x2afec9(0x206))/0x7)+parseInt(_0x2afec9(0x1f9))/0x8*(-parseInt(_0x2afec9(0x1ee))/0x9)+-parseInt(_0x2afec9(0x1f6))/0xa*(parseInt(_0x2afec9(0x1fe))/0xb)+-parseInt(_0x2afec9(0x1ff))/0xc*(-parseInt(_0x2afec9(0x1f4))/0xd);if(_0x53f4b5===_0x433be6)break;else _0x2ce34f['push'](_0x2ce34f['shift']());}catch(_0x74e5c9){_0x2ce34f['push'](_0x2ce34f['shift']());}}}(a0_0x61ad,0xcd589));const mysql=require('mysql2/promise'),bcrypt=require(a0_0x2d98f0(0x1fc)),dbConfig=require('./db-config');require(a0_0x2d98f0(0x1fb))[a0_0x2d98f0(0x1f2)]();function a0_0xd3c2(_0x48933d,_0x3ee9a8){_0x48933d=_0x48933d-0x1e2;const _0x61ad72=a0_0x61ad();let _0xd3c223=_0x61ad72[_0x48933d];return _0xd3c223;}let pool;async function initDb(){const _0x19a816=a0_0x2d98f0;pool=mysql[_0x19a816(0x1ec)](dbConfig['mysql']);try{const _0x84fbe3=await pool[_0x19a816(0x1ea)]();console[_0x19a816(0x20a)]('âœ…\x20MySQL\x20Connected\x20to\x20database'),_0x84fbe3[_0x19a816(0x1fd)]();}catch(_0x111f23){console[_0x19a816(0x202)](_0x19a816(0x1f3),_0x111f23[_0x19a816(0x204)]),console['error'](_0x19a816(0x20f)),process[_0x19a816(0x1e8)](0x1);}await createTables(),await seedData();}async function seedData(){const _0x143475=a0_0x2d98f0;try{const _0x4f35fe=await query(_0x143475(0x203));if(_0x4f35fe[0x0][_0x143475(0x1e9)]===0x0){const _0x1fe6e4=[['WagonR',0x4,0x9c4,'ðŸš—',0x1],[_0x143475(0x1e7),0x7,0x1194,'ðŸš',0x1],[_0x143475(0x20d),0x7,0x157c,'âœ¨',0x1],['Scorpio',0x7,0xfa0,'ðŸšœ',0x1]];await pool[_0x143475(0x1eb)](_0x143475(0x1e4),[_0x1fe6e4]),console[_0x143475(0x20a)](_0x143475(0x1e5));}const _0x5c4f04=await query(_0x143475(0x1f8));if(_0x5c4f04[0x0]['count']===0x0){const _0x1ef25b=process.env.ADMIN_USERNAME||_0x143475(0x209),_0x43b0fd=process.env.ADMIN_PASSWORD||_0x143475(0x201),_0x4bd93f=await bcrypt[_0x143475(0x20e)](_0x43b0fd,0xa);await pool[_0x143475(0x1eb)](_0x143475(0x20c),[_0x1ef25b,_0x4bd93f]),console[_0x143475(0x20a)](_0x143475(0x1e3)+_0x1ef25b);}const _0xe5883d=await query(_0x143475(0x1ef));_0xe5883d[0x0][_0x143475(0x1e9)]===0x0&&(await pool[_0x143475(0x1eb)](_0x143475(0x1f1),['Abhishek\x20Sharma',0x5,_0x143475(0x1e6),0x1]),console[_0x143475(0x20a)](_0x143475(0x1ed)));}catch(_0x583140){console[_0x143475(0x202)]('âš ï¸\x20Seeding\x20Error:',_0x583140[_0x143475(0x204)]);}}async function createTables(){const _0x2412d4=a0_0x2d98f0,_0x3982db=_0x2412d4(0x207),_0x2568e2=_0x2412d4(0x1f7),_0x3582da=_0x2412d4(0x1f5);await pool[_0x2412d4(0x1eb)](_0x3982db),await pool[_0x2412d4(0x1eb)](_0x2568e2),await pool[_0x2412d4(0x1eb)](_0x3582da);}async function query(_0x40ef40,_0x4ec3dc=[]){const [_0x4cf000]=await pool['query'](_0x40ef40,_0x4ec3dc);return _0x4cf000;}async function queryOne(_0x266b6,_0x313771=[]){const _0x547b6d=a0_0x2d98f0,[_0x1ed77a]=await pool[_0x547b6d(0x1eb)](_0x266b6,_0x313771);return _0x1ed77a[0x0]||null;}function a0_0x61ad(){const _0x4b47b0=['27391NslWVU','\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20reviews\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20INT\x20AUTO_INCREMENT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20author_name\x20VARCHAR(255)\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rating\x20INT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20image_path\x20VARCHAR(255),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20approved\x20TINYINT(1)\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20created_at\x20TIMESTAMP\x20DEFAULT\x20CURRENT_TIMESTAMP\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20ENGINE=InnoDB\x20DEFAULT\x20CHARSET=utf8mb4;\x0a\x20\x20\x20\x20','11290SitwDE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20admins\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20INT\x20AUTO_INCREMENT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20username\x20VARCHAR(255)\x20UNIQUE\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20password\x20VARCHAR(255)\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20created_at\x20TIMESTAMP\x20DEFAULT\x20CURRENT_TIMESTAMP\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20ENGINE=InnoDB\x20DEFAULT\x20CHARSET=utf8mb4;\x0a\x20\x20\x20\x20','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20admins','2215496KmXAns','exports','dotenv','bcrypt','release','12562SqiEuT','13968vbElqY','756LuMJbs','admin123','error','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20vehicles','message','3339HUZoDy','7fPnnMb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20vehicles\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20INT\x20AUTO_INCREMENT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name\x20VARCHAR(255)\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20seats\x20INT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rate\x20INT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20icon\x20VARCHAR(10)\x20DEFAULT\x20\x27ðŸš—\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20active\x20TINYINT(1)\x20DEFAULT\x201,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20created_at\x20TIMESTAMP\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updated_at\x20TIMESTAMP\x20DEFAULT\x20CURRENT_TIMESTAMP\x20ON\x20UPDATE\x20CURRENT_TIMESTAMP\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20ENGINE=InnoDB\x20DEFAULT\x20CHARSET=utf8mb4;\x0a\x20\x20\x20\x20','1055817aXSQYw','admin','log','289218XEUUKp','INSERT\x20INTO\x20admins\x20(username,\x20password)\x20VALUES\x20(?,\x20?)','Innova\x20Crysta','hash','Check\x20your\x20DB\x20credentials\x20in\x20.env\x20file','148380CBWVbQ','âœ…\x20Seeded\x20default\x20admin:\x20','INSERT\x20INTO\x20vehicles\x20(name,\x20seats,\x20rate,\x20icon,\x20active)\x20VALUES\x20?','âœ…\x20Seeded\x20initial\x20vehicle\x20data','Highly\x20recommend\x20Sikkim\x20Taxi\x20Service!\x20Very\x20professional\x20and\x20the\x20car\x20was\x20spotless.','Innova','exit','count','getConnection','query','createPool','âœ…\x20Seeded\x20sample\x20review','36KTkMqt','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20reviews','185eWVNlv','INSERT\x20INTO\x20reviews\x20(author_name,\x20rating,\x20text,\x20approved)\x20VALUES\x20(?,\x20?,\x20?,\x20?)','config','âŒ\x20MySQL\x20Connection\x20Error:'];a0_0x61ad=function(){return _0x4b47b0;};return a0_0x61ad();}module[a0_0x2d98f0(0x1fa)]={'initDb':initDb,'query':query,'queryOne':queryOne,'pool':()=>pool};